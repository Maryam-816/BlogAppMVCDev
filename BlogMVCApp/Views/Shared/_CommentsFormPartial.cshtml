@model BlogMVCApp.Models.CommentModel

@using (Html.BeginForm(new { @class = "p-3 p-md-5 bg-light", @id="submit_form"}))
{
    @Html.AntiForgeryToken()
    @Html.HiddenFor(x => x.Article.Id)
    @Html.HiddenFor(x => x.User.ProfilePicture)
    <div class="form-group">
        @Html.LabelFor(x => x.User.UserName)
        @Html.TextBoxFor(x => x.User.UserName, new { @class = "form-control" })
    </div>
    <div class="form-group">
        @Html.LabelFor(x => x.User.Email)
        @Html.TextBoxFor(x => x.User.Email, new { @class = "form-control" })
    </div>
    <div class="form-group">
        @Html.LabelFor(x => x.WebSite)
        @Html.TextBoxFor(x => x.WebSite, new { @class = "form-control" })
    </div>
    <div class="form-group">
        @Html.LabelFor(x => x.Text)
        @Html.TextAreaFor(x => x.Text, rows:10, columns:10, htmlAttributes: new { @class = "form-control" })
    </div>
    <div class="form-group">
        <input type="submit" value="Post Comment" class="btn py-3 px-4 btn-primary" id="send_request_btn">
    </div>
}

@*@section AjaxQuery
    {
    <script>
        $(document).ready(function () {
            $("#send_request_btn").click(function (e) {
                e.preventDefault();
                alert("request");
                let request = {name: $("#Name").val, email: $("#Email").val, website: $("#Website").val, text: $("#Text").val, articleId: $("#ArticleId").val};
                $.ajax(
                    {
                        url: "/Comments/Add",
                        method: "POST",
                        data: request
                    })
                    .done(function (e)
                    {
                        alert("responce recieved" + e);
                    })
                    .fail(function ()
                    {
                        alert("responce failed" + e);
                    })
            });
        });

        
    </script>
    }*@
